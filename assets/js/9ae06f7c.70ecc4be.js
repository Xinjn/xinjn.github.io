"use strict";(self.webpackChunkwiki=self.webpackChunkwiki||[]).push([[4957],{3905:(e,n,t)=>{t.d(n,{Zo:()=>m,kt:()=>c});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=a.createContext({}),i=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},m=function(e){var n=i(e.components);return a.createElement(o.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,o=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),d=i(t),c=r,k=d["".concat(o,".").concat(c)]||d[c]||u[c]||s;return t?a.createElement(k,l(l({ref:n},m),{},{components:t})):a.createElement(k,l({ref:n},m))}));function c(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,l=new Array(s);l[0]=d;var p={};for(var o in n)hasOwnProperty.call(n,o)&&(p[o]=n[o]);p.originalType=e,p.mdxType="string"==typeof e?e:r,l[1]=p;for(var i=2;i<s;i++)l[i]=t[i];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},16449:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>p,toc:()=>i});var a=t(87462),r=(t(67294),t(3905));const s={},l="React Development of norms",p={unversionedId:"\u516c\u53f8/\u51e4\u51f0\u7f51/Wiki\u8fc1\u79fb/\u7f51\u9875\u524d\u7aef\u5f00\u53d1\u76f8\u5173/React-Development-of-Norms",id:"\u516c\u53f8/\u51e4\u51f0\u7f51/Wiki\u8fc1\u79fb/\u7f51\u9875\u524d\u7aef\u5f00\u53d1\u76f8\u5173/React-Development-of-Norms",title:"React Development of norms",description:"\u7f16\u5199\u98ce\u683c\u7edf\u4e00\uff0c\u6027\u80fd\u9ad8\uff0c\u6613\u7ef4\u62a4\u7684 React \u5e94\u7528",source:"@site/docs/\u516c\u53f8/\u51e4\u51f0\u7f51/Wiki\u8fc1\u79fb/\u7f51\u9875\u524d\u7aef\u5f00\u53d1\u76f8\u5173/React-Development-of-Norms.md",sourceDirName:"\u516c\u53f8/\u51e4\u51f0\u7f51/Wiki\u8fc1\u79fb/\u7f51\u9875\u524d\u7aef\u5f00\u53d1\u76f8\u5173",slug:"/\u516c\u53f8/\u51e4\u51f0\u7f51/Wiki\u8fc1\u79fb/\u7f51\u9875\u524d\u7aef\u5f00\u53d1\u76f8\u5173/React-Development-of-Norms",permalink:"/docs/\u516c\u53f8/\u51e4\u51f0\u7f51/Wiki\u8fc1\u79fb/\u7f51\u9875\u524d\u7aef\u5f00\u53d1\u76f8\u5173/React-Development-of-Norms",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u516c\u53f8/\u51e4\u51f0\u7f51/Wiki\u8fc1\u79fb/\u7f51\u9875\u524d\u7aef\u5f00\u53d1\u76f8\u5173/React-Development-of-Norms.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u76ee\u5f55",permalink:"/docs/\u516c\u53f8/\u51e4\u51f0\u7f51/Wiki\u8fc1\u79fb/\u76ee\u5f55"},next:{title:"ESLint \u914d\u7f6e\u8bf4\u660e",permalink:"/docs/\u516c\u53f8/\u51e4\u51f0\u7f51/Wiki\u8fc1\u79fb/\u7f51\u9875\u524d\u7aef\u5f00\u53d1\u76f8\u5173/eslintConfig"}},o={},i=[{value:"\u76ee\u5f55",id:"\u76ee\u5f55",level:2},{value:"\u7ec4\u4ef6\u58f0\u660e",id:"\u7ec4\u4ef6\u58f0\u660e",level:2},{value:"\u4e8b\u4ef6\u56de\u8c03\u547d\u540d",id:"\u4e8b\u4ef6\u56de\u8c03\u547d\u540d",level:2},{value:"\u7ec4\u4ef6\u5316\u4f18\u4e8e\u591a\u5c42 render",id:"\u7ec4\u4ef6\u5316\u4f18\u4e8e\u591a\u5c42-render",level:2},{value:"\u72b6\u6001\u4e0a\u79fb\u4f18\u4e8e\u516c\u5171\u65b9\u6cd5",id:"\u72b6\u6001\u4e0a\u79fb\u4f18\u4e8e\u516c\u5171\u65b9\u6cd5",level:2},{value:"\u5bb9\u5668\u7ec4\u4ef6",id:"\u5bb9\u5668\u7ec4\u4ef6",level:2},{value:"\u7eaf\u51fd\u6570\u7684 render",id:"\u7eaf\u51fd\u6570\u7684-render",level:2},{value:"\u59cb\u7ec8\u58f0\u660e PropTypes",id:"\u59cb\u7ec8\u58f0\u660e-proptypes",level:2},{value:"Props \u975e\u7a7a\u68c0\u6d4b",id:"props-\u975e\u7a7a\u68c0\u6d4b",level:2},{value:"\u4f7f\u7528 Props \u521d\u59cb\u5316",id:"\u4f7f\u7528-props-\u521d\u59cb\u5316",level:2},{value:"classnames",id:"classnames",level:2}],m={toc:i};function u(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"react-development-of-norms"},"React Development of norms"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"\u7f16\u5199\u98ce\u683c\u7edf\u4e00\uff0c\u6027\u80fd\u9ad8\uff0c\u6613\u7ef4\u62a4\u7684 React \u5e94\u7528")),(0,r.kt)("h2",{id:"\u76ee\u5f55"},"\u76ee\u5f55"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E7%BB%84%E4%BB%B6%E5%A3%B0%E6%98%8E"},"\u7ec4\u4ef6\u58f0\u660e")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E4%BA%8B%E4%BB%B6%E5%9B%9E%E8%B0%83%E5%91%BD%E5%90%8D"},"\u4e8b\u4ef6\u56de\u8c03\u547d\u540d")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E7%BB%84%E4%BB%B6%E5%8C%96%E4%BC%98%E4%BA%8E%E5%A4%9A%E5%B1%82-render"},"\u7ec4\u4ef6\u5316\u4f18\u4e8e\u591a\u5c42 render")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E7%8A%B6%E6%80%81%E4%B8%8A%E7%A7%BB%E4%BC%98%E4%BA%8E%E5%85%AC%E5%85%B1%E6%96%B9%E6%B3%95"},"\u72b6\u6001\u4e0a\u79fb\u4f18\u4e8e\u516c\u5171\u65b9\u6cd5")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%AE%B9%E5%99%A8%E7%BB%84%E4%BB%B6"},"\u5bb9\u5668\u7ec4\u4ef6")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E7%BA%AF%E5%87%BD%E6%95%B0%E7%9A%84-render"},"\u7eaf\u51fd\u6570\u7684 render")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E5%A7%8B%E7%BB%88%E5%A3%B0%E6%98%8E-proptypes"},"\u59cb\u7ec8\u58f0\u660e PropTypes")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#props-%E9%9D%9E%E7%A9%BA%E6%A3%80%E6%B5%8B"},"Props \u975e\u7a7a\u68c0\u6d4b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%E4%BD%BF%E7%94%A8-props-%E5%88%9D%E5%A7%8B%E5%8C%96"},"\u4f7f\u7528 Props \u521d\u59cb\u5316")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#classnames"},"classnames"))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"\u7ec4\u4ef6\u58f0\u660e"},"\u7ec4\u4ef6\u58f0\u660e"),(0,r.kt)("p",null,"\u5168\u9762\u4f7f\u7528 ES6 class \u58f0\u660e\uff0c\u53ef\u4e0d\u4e25\u683c\u9075\u5b88\u8be5\u5c5e\u6027\u58f0\u660e\u6b21\u5e8f\uff0c\u4f46\u5982\u6709 propTypes \u5219\u5fc5\u987b\u5199\u5728\u9876\u90e8\uff0c lifecycle events \u5fc5\u987b\u5199\u5230\u4e00\u8d77\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"import"),(0,r.kt)("li",{parentName:"ul"},"class",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"propTypes"),(0,r.kt)("li",{parentName:"ul"},"defaultProps"),(0,r.kt)("li",{parentName:"ul"},"state "),(0,r.kt)("li",{parentName:"ul"},"lifecycle events"),(0,r.kt)("li",{parentName:"ul"},"event handlers"),(0,r.kt)("li",{parentName:"ul"},"render"))),(0,r.kt)("li",{parentName:"ul"},"export")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Person extends React.Component {\n    static propTypes = {\n        firstName: PropTypes.string.isRequired,\n        lastName: PropTypes.string.isRequired,\n    };\n    \n    static defaultProps = {\n        firstName: '',\n        lastName: '',\n    };\n\n    state = {\n        smiling: true,\n    }\n\n    componentDidMount () {}\n\n    handleClick = () => {\n        this.setState({smiling: !this.state.smiling})\n    }\n\n    render () {\n        const { firstName, lastName } = this.props;\n        const fullName = `${firstName}\xb7${lastName}`\n\n        return (\n            <div onClick={this.handleClick}>\n                {fullName} {this.state.smiling ? 'is smiling.' : ''}\n            </div>\n        )\n    }\n}\n\nexport default Person;\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#%E7%9B%AE%E5%BD%95"},"\u2b06 \u56de\u5230\u76ee\u5f55"))),(0,r.kt)("h2",{id:"\u4e8b\u4ef6\u56de\u8c03\u547d\u540d"},"\u4e8b\u4ef6\u56de\u8c03\u547d\u540d"),(0,r.kt)("p",null,"Handler \u547d\u540d\u98ce\u683c:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"handle")," \u5f00\u5934"),(0,r.kt)("li",{parentName:"ul"},"\u4ee5\u4e8b\u4ef6\u7c7b\u578b\u4f5c\u4e3a\u7ed3\u5c3e (\u5982 ",(0,r.kt)("inlineCode",{parentName:"li"},"Click"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Change"),")"),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u4e00\u822c\u73b0\u5728\u65f6")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// bad\n    closeAll = () => {},\n\n    render () {\n        return <div onClick={this.closeAll} />\n    }\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// good\n    handleClick = () => {},\n\n    render () {\n        return <div onClick={this.handleClick} />\n    }\n")),(0,r.kt)("p",null,"\u5982\u679c\u4f60\u9700\u8981\u533a\u5206\u540c\u6837\u4e8b\u4ef6\u7c7b\u578b\u7684 handler\uff08\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},"handleNameChange")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"handleEmailChange"),"\uff09\u65f6\uff0c\u53ef\u80fd\u8fd9\u5c31\u662f\u4e00\u4e2a\u62c6\u5206\u7ec4\u4ef6\u7684\u4fe1\u53f7"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#%E7%9B%AE%E5%BD%95"},"\u2b06 \u56de\u5230\u76ee\u5f55"))),(0,r.kt)("h2",{id:"\u7ec4\u4ef6\u5316\u4f18\u4e8e\u591a\u5c42-render"},"\u7ec4\u4ef6\u5316\u4f18\u4e8e\u591a\u5c42 render"),(0,r.kt)("p",null,"\u5f53\u7ec4\u4ef6\u7684 jsx \u53ea\u5199\u5728\u4e00\u4e2a render \u65b9\u6cd5\u663e\u5f97\u592a\u81c3\u80bf\u65f6\uff0c\u5f88\u53ef\u80fd\u66f4\u9002\u5408\u62c6\u5206\u51fa\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u89c6\u60c5\u51b5\u91c7\u7528 class component \u6216 stateless component"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// bad\n    renderItem ({name}) {\n        return (\n            <li>\n                {name}\n                {/* ... */}\n            </li>\n        )\n    }\n\n    render () {\n        return (\n            <div className="menu">\n                <ul>\n                    {this.props.items.map(item => this.renderItem(item))}\n                </ul>\n            </div>\n        )\n    }\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// good\n    function Items ({name}) {\n        return (\n            <li>\n                {name}\n                {/* ... */}\n            </li>\n        )\n    }\n\n    render () {\n        return (\n            <div className="menu">\n                <ul>\n                    {this.props.items.map(item => <Items {...item} />)}\n                </ul>\n            </div>\n        )\n    }\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#%E7%9B%AE%E5%BD%95"},"\u2b06 \u56de\u5230\u76ee\u5f55"))),(0,r.kt)("h2",{id:"\u72b6\u6001\u4e0a\u79fb\u4f18\u4e8e\u516c\u5171\u65b9\u6cd5"},"\u72b6\u6001\u4e0a\u79fb\u4f18\u4e8e\u516c\u5171\u65b9\u6cd5"),(0,r.kt)("p",null,"\u4e00\u822c\u7ec4\u4ef6\u4e0d\u5e94\u63d0\u4f9b\u516c\u5171\u65b9\u6cd5\uff0c\u8fd9\u6837\u4f1a\u7834\u574f\u6570\u636e\u6d41\u53ea\u6709\u4e00\u4e2a\u65b9\u5411\u7684\u539f\u5219\u3002"),(0,r.kt)("p",null,"\u518d\u56e0\u4e3a\u6211\u4eec\u503e\u5411\u4e8e\u66f4\u7ec6\u9897\u7c92\u7684\u7ec4\u4ef6\u5316\uff0c\u72b6\u6001\u5e94\u96c6\u4e2d\u5728\u8fdc\u79bb\u6e32\u67d3\u7684\u5730\u65b9\u5904\u7406\uff08\u6bd4\u5982\u5e94\u7528\u7ea7\u522b\u7684\u72b6\u6001\u5c31\u5728 redux \u7684 store \u91cc\uff09\uff0c\u4e5f\u80fd\u4f7f\u5144\u5f1f\u7ec4\u4ef6\u66f4\u65b9\u4fbf\u5730\u5171\u4eab\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'//bad\nclass DropDownMenu extends Component {\n    state = {\n        showMenu: false\n    }\n\n    show () {\n        this.setState({display: true})\n    }\n\n    hide () {\n        this.setState({display: false})\n    }\n\n    render () {\n        return this.state.display && (\n            <div className="dropdown-menu">\n                {/* ... */}\n            </div>\n        )\n    }\n}\n\nclass MyComponent extends Component {\n    // ...\n    showMenu () {\n        this.refs.menu.show()\n    }\n    hideMenu () {\n        this.refs.menu.hide()\n    }\n    render () {\n        return <DropDownMenu ref="menu" />\n    }\n}\n\n//good\nclass DropDownMenu extends Component {\n    static propsTypes = {\n        display: PropTypes.boolean.isRequired\n    };\n\n    render () {\n        return this.props.display && (\n            <div className="dropdown-menu">\n                {/* ... */}\n            </div>\n        )\n    }\n}\n\nclass MyComponent extends Component {\n    state = {\n        showMenu: false\n    }\n\n    showMenu () {\n        this.setState({showMenu: true})\n    }\n\n    hideMenu () {\n        this.setState({showMenu: false})\n    }\n\n    render () {\n        return <DropDownMenu display={this.state.showMenu} />\n    }\n}\n')),(0,r.kt)("p",null,"\u66f4\u591a\u9605\u8bfb: ",(0,r.kt)("a",{parentName:"p",href:"https://facebook.github.io/react/docs/lifting-state-up.html"},"lifting-state-up")),(0,r.kt)("h2",{id:"\u5bb9\u5668\u7ec4\u4ef6"},"\u5bb9\u5668\u7ec4\u4ef6"),(0,r.kt)("p",null,"\u4e00\u4e2a\u5bb9\u5668\u7ec4\u4ef6\u4e3b\u8981\u8d1f\u8d23\u7ef4\u62a4\u72b6\u6001\u548c\u6570\u636e\u7684\u8ba1\u7b97\uff0c\u672c\u8eab\u5e76\u6ca1\u6709\u754c\u9762\u903b\u8f91\uff0c\u53ea\u628a\u7ed3\u679c\u901a\u8fc7 props \u4f20\u9012\u4e0b\u53bb\u3002"),(0,r.kt)("p",null,"\u533a\u5206\u5bb9\u5668\u7ec4\u4ef6\u7684\u76ee\u7684\u5c31\u662f\u53ef\u4ee5\u628a\u7ec4\u4ef6\u7684\u72b6\u6001\u548c\u6e32\u67d3\u89e3\u8026\u5f00\u6765\uff0c\u6539\u5199\u754c\u9762\u65f6\u53ef\u4e0d\u7528\u5173\u6ce8\u6570\u636e\u7684\u5b9e\u73b0\uff0c\u987a\u4fbf\u5f97\u5230\u4e86\u53ef\u590d\u7528\u6027\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// bad\nclass MessageList extends Component {\n    state = {\n        onlyUnread: false,\n        messages: []\n    }\n\n    componentDidMount () {\n        $.ajax({\n            url: "/api/messages",\n        }).then(({messages}) => this.setState({messages}))\n    }\n\n    handleClick = () => this.setState({onlyUnread: !this.state.onlyUnread})\n\n    render () {\n        return (\n            <div class="message">\n                <ul>\n                {\n                    this.state.messages\n                    .filter(msg => this.state.onlyUnread ? !msg.asRead : true)\n                    .map(({content, author}) => {\n                        return <li>{content}\u2014{author}</li>\n                    })\n                }\n                </ul>\n                <button onClick={this.handleClick}>toggle unread</button>\n            </div>\n        )\n    }\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// good\nclass MessageContainer extends Component {\n    state = {\n        onlyUnread: false,\n        messages: []\n    }\n\n    componentDidMount () {\n        $.ajax({\n            url: "/api/messages",\n        }).then(({messages}) => this.setState({messages}))\n    }\n\n    handleClick = () => this.setState({onlyUnread: !this.state.onlyUnread})\n\n    render () {\n        return <MessageList\n            messages={this.state.messages.filter(msg => this.state.onlyUnread ? !msg.asRead : true)}\n            toggleUnread={this.handleClick}\n        />\n    }\n}\n\nfunction MessageList ({messages, toggleUnread}) {\n    static propTypes = {\n        messages: propTypes.array.isRequired,\n        toggleUnread: propTypes.func.isRequired\n    }\n\n    return (\n        <div class="message">\n            <ul>\n                {\n                messages\n                    .map(({content, author}) => {\n                    return <li>{content}\u2014{author}</li>\n                    })\n                }\n            </ul>\n            <button onClick={toggleUnread}>toggle unread</button>\n        </div>\n    )\n}\n\n')),(0,r.kt)("p",null,"\u66f4\u591a\u9605\u8bfb:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.sz7z538t6"},"Presentational and Container Components")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"http://andrewhfarmer.com/react-ajax-best-practices/"},"React AJAX Best Practices"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#%E7%9B%AE%E5%BD%95"},"\u2b06 \u56de\u5230\u76ee\u5f55"))),(0,r.kt)("h2",{id:"\u7eaf\u51fd\u6570\u7684-render"},"\u7eaf\u51fd\u6570\u7684 render"),(0,r.kt)("p",null,"render \u51fd\u6570\u5e94\u8be5\u662f\u4e00\u4e2a\u7eaf\u51fd\u6570\uff08stateless component \u5f53\u7136\u4e5f\u662f\uff09\uff0c\u4e0d\u4f9d\u8d56 this.state\u3001this.props \u4ee5\u5916\u7684\u53d8\u91cf\uff0c\u4e5f\u4e0d\u6539\u53d8\u5916\u90e8\u72b6\u6001"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// bad\nrender () {\n    return <div>{window.navigator.userAgent}</div>\n}\n\n// good\nrender () {\n    return <div>{this.props.userAgent}</div>\n}\n")),(0,r.kt)("p",null,"\u66f4\u591a\u9605\u8bfb: ",(0,r.kt)("a",{parentName:"p",href:"https://medium.com/@SimonRadionov/return-as-soon-as-you-know-the-answer-dec6369b9b67#.q67w8z60g"},"Return as soon as you know the answer")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#%E7%9B%AE%E5%BD%95"},"\u2b06 \u56de\u5230\u76ee\u5f55"))),(0,r.kt)("h2",{id:"\u59cb\u7ec8\u58f0\u660e-proptypes"},"\u59cb\u7ec8\u58f0\u660e PropTypes"),(0,r.kt)("p",null,"\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u90fd\u58f0\u660e PropTypes\uff0c\u975e\u5fc5\u987b\u7684 props \u5e94\u63d0\u4f9b\u9ed8\u8ba4\u503c\u3002"),(0,r.kt)("p",null,"\u5bf9\u4e8e\u975e\u5e38\u5e7f\u4e3a\u4eba\u77e5\u7684 props \u5982 children, dispatch \u4e5f\u4e0d\u5e94\u8be5\u5ffd\u7565\u3002\u56e0\u4e3a\u5982\u679c\u4e00\u4e2a\u7ec4\u4ef6\u6ca1\u6709\u58f0\u660e dispatch \u7684 props\uff0c\u90a3\u4e48\u4e00\u773c\u5c31\u53ef\u4ee5\u77e5\u9053\u8be5\u7ec4\u4ef6\u6ca1\u6709\u4fee\u6539 store \u4e86\u3002"),(0,r.kt)("p",null,"\u4f46\u5982\u679c\u5728\u5f00\u53d1\u4e00\u7cfb\u5217\u4f1a dispatch \u7684\u7ec4\u4ef6\u65f6\uff0c\u53ef\u5728\u8fd9\u4e9b\u7ec4\u4ef6\u7684\u76ee\u5f55\u5efa\u7acb\u5355\u72ec\u7684 .eslintrc \u6765\u53ea\u5ffd\u7565 dispatch\u3002"),(0,r.kt)("p",null,"\u66f4\u591a\u9605\u8bfb: ",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/typechecking-with-proptypes.html"},"Prop Validation")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#%E7%9B%AE%E5%BD%95"},"\u2b06 \u56de\u5230\u76ee\u5f55"))),(0,r.kt)("h2",{id:"props-\u975e\u7a7a\u68c0\u6d4b"},"Props \u975e\u7a7a\u68c0\u6d4b"),(0,r.kt)("p",null,"\u5bf9\u4e8e\u5e76\u975e ",(0,r.kt)("inlineCode",{parentName:"p"},"isRequired")," \u7684 proptype\uff0c\u5fc5\u987b\u5bf9\u5e94\u8bbe\u7f6e defaultProps\uff0c\u907f\u514d\u518d\u589e\u52a0 if \u5206\u652f\u5e26\u6765\u7684\u8d1f\u62c5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// bad\nrender () {\n    if (this.props.person) {\n        return <div>{this.props.person.firstName}</div>\n    } else {\n        return <div>Guest</div>\n    }\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// good\nclass MyComponent extends Component {\n    static defaultProps = {\n        person: {\n            firstName: 'Guest'\n        }\n    }\n\n    render() {\n        return <div>{this.props.person.firstName}</div>\n    }\n}\n\n")),(0,r.kt)("p",null,"\u5982\u6709\u5fc5\u8981\uff0c\u4f7f\u7528 PropTypes.shape \u660e\u786e\u6307\u5b9a\u9700\u8981\u7684\u5c5e\u6027"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#%E7%9B%AE%E5%BD%95"},"\u2b06 \u56de\u5230\u76ee\u5f55"))),(0,r.kt)("h2",{id:"\u4f7f\u7528-props-\u521d\u59cb\u5316"},"\u4f7f\u7528 Props \u521d\u59cb\u5316"),(0,r.kt)("p",null,"\u9664\u975e props \u7684\u547d\u540d\u660e\u786e\u6307\u51fa\u4e86\u610f\u56fe\uff0c\u5426\u5219\u4e0d\u8be5\u4f7f\u7528 props \u6765\u521d\u59cb\u5316 state"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// bad\n    state = {\n        items: this.props.items\n    }\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// good\n    state = {\n        items: this.props.initialItems\n    }\n")),(0,r.kt)("p",null,"\u66f4\u591a\u9605\u8bfb: ",(0,r.kt)("a",{parentName:"p",href:"http://facebook.github.io/react/tips/props-in-getInitialState-as-anti-pattern.html"},'"Props in getInitialState Is an Anti-Pattern"')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#%E7%9B%AE%E5%BD%95"},"\u2b06 \u56de\u5230\u76ee\u5f55"))),(0,r.kt)("h2",{id:"classnames"},"classnames"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/classnames"},"classNames")," \u6765\u7ec4\u5408\u6761\u4ef6\u7ed3\u679c."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// bad\nrender () {\n    return <div className={'menu ' + this.props.display ? 'active' : ''} />\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// good\nrender () {\n    const classes = {\n        menu: true,\n        active: this.props.display\n    }\n\n    return <div className={classnames(classes)} />\n}\n")),(0,r.kt)("p",null,"Read: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/JedWatson/classnames/blob/master/README.md"},"Class Name Manipulation")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#%E7%9B%AE%E5%BD%95"},"\u2b06 \u56de\u5230\u76ee\u5f55"))))}u.isMDXComponent=!0}}]);