"use strict";(self.webpackChunkwiki=self.webpackChunkwiki||[]).push([[12821],{3905:(r,e,n)=>{n.d(e,{Zo:()=>u,kt:()=>f});var t=n(67294);function o(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function a(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function c(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}function i(r,e){if(null==r)return{};var n,t,o=function(r,e){if(null==r)return{};var n,t,o={},a=Object.keys(r);for(t=0;t<a.length;t++)n=a[t],e.indexOf(n)>=0||(o[n]=r[n]);return o}(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(t=0;t<a.length;t++)n=a[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(o[n]=r[n])}return o}var s=t.createContext({}),p=function(r){var e=t.useContext(s),n=e;return r&&(n="function"==typeof r?r(e):c(c({},e),r)),n},u=function(r){var e=p(r.components);return t.createElement(s.Provider,{value:e},r.children)},d={inlineCode:"code",wrapper:function(r){var e=r.children;return t.createElement(t.Fragment,{},e)}},l=t.forwardRef((function(r,e){var n=r.components,o=r.mdxType,a=r.originalType,s=r.parentName,u=i(r,["components","mdxType","originalType","parentName"]),l=p(n),f=o,m=l["".concat(s,".").concat(f)]||l[f]||d[f]||a;return n?t.createElement(m,c(c({ref:e},u),{},{components:n})):t.createElement(m,c({ref:e},u))}));function f(r,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof r||o){var a=n.length,c=new Array(a);c[0]=l;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=r,i.mdxType="string"==typeof r?r:o,c[1]=i;for(var p=2;p<a;p++)c[p]=n[p];return t.createElement.apply(null,c)}return t.createElement.apply(null,n)}l.displayName="MDXCreateElement"},50229:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>c,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>p});var t=n(87462),o=(n(67294),n(3905));const a={},c="ErrorBoundaries \u539f\u7406",i={unversionedId:"\u9762\u8bd5\u62bc\u9898/React \u62bc\u9898/\u9519\u8bef\u8fb9\u754c/ErrorBoundaries \u539f\u7406",id:"\u9762\u8bd5\u62bc\u9898/React \u62bc\u9898/\u9519\u8bef\u8fb9\u754c/ErrorBoundaries \u539f\u7406",title:"ErrorBoundaries \u539f\u7406",description:"",source:"@site/docs/\u9762\u8bd5\u62bc\u9898/React \u62bc\u9898/\u9519\u8bef\u8fb9\u754c/ErrorBoundaries \u539f\u7406.md",sourceDirName:"\u9762\u8bd5\u62bc\u9898/React \u62bc\u9898/\u9519\u8bef\u8fb9\u754c",slug:"/\u9762\u8bd5\u62bc\u9898/React \u62bc\u9898/\u9519\u8bef\u8fb9\u754c/ErrorBoundaries \u539f\u7406",permalink:"/docs/\u9762\u8bd5\u62bc\u9898/React \u62bc\u9898/\u9519\u8bef\u8fb9\u754c/ErrorBoundaries \u539f\u7406",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u9762\u8bd5\u62bc\u9898/React \u62bc\u9898/\u9519\u8bef\u8fb9\u754c/ErrorBoundaries \u539f\u7406.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u91cd\u590d\u6e32\u67d3\u4e24\u6b21 React.StrictMode",permalink:"/docs/\u9762\u8bd5\u62bc\u9898/React \u62bc\u9898/\u91cd\u590d\u6e32\u67d3/\u91cd\u590d\u6e32\u67d3\u4e24\u6b21 React.StrictMode"},next:{title:"\u8c08\u8c08 ErrorBoundaries",permalink:"/docs/\u9762\u8bd5\u62bc\u9898/React \u62bc\u9898/\u9519\u8bef\u8fb9\u754c/\u8c08\u8c08 ErrorBoundaries"}},s={},p=[],u={toc:p};function d(r){let{components:e,...n}=r;return(0,o.kt)("wrapper",(0,t.Z)({},u,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"errorboundaries-\u539f\u7406"},"ErrorBoundaries \u539f\u7406"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-JS"},"import React from 'react'\nimport ProTypes from 'prop-types'\n\nclass ErrorBoundary extends React.Component {\n    static propTypes = {\n        child:PropTypes.object\n    }\n    // \u662f\u5426\u51fa\u9519\n    state = {\n        hasError:false\n    }\n    // \u751f\u547d\u5468\u671f\uff1a\u6355\u83b7\u9519\u8bef\u4fe1\u606f\n    componentDidCatch(error,info){\n        this.setState({\n            hasError:true\n        })\n        error.message = `${error.message}`\n        console.error('error',error);\n        // \u4e0a\u62a5\u9519\u8bef\n        if (window && window.BJ_REPORT) window.BJ_REPORT.report(error, false, 'ui');\n    }\n    render(){\n        const {hasError} = this.state\n\n        // \u51fa\u9519\u8fd4\u56de\u7a7a\u5b57\u7b26\n        if(hasError)return ''\n\n        return this.props.children\n    }\n}\n\nconst errorBoundary = WrappedComponent => {\n    // \u6d45\u6bd4\u8f83\u7ec4\u4ef6\n    return class extends React.PureComponent {\n        render(){\n            return (\n                <ErrorBoundary>\n                    <WrappedComponent\n                        {this.props} // \u53c2\u6570\n                    />\n                </ErrorBoundary>\n            )\n        }\n    }\n}\n\n// \u4e24\u79cd\u65b9\u5f0f\u53ef\u5f15\u5165\nexport { errorBoundary }\nexport default errorBoundary\n")))}d.isMDXComponent=!0}}]);