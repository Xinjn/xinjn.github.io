"use strict";(self.webpackChunkwiki=self.webpackChunkwiki||[]).push([[23900],{3905:(n,e,t)=>{t.d(e,{Zo:()=>c,kt:()=>f});var i=t(67294);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?r(Object(t),!0).forEach((function(e){a(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function s(n,e){if(null==n)return{};var t,i,a=function(n,e){if(null==n)return{};var t,i,a={},r=Object.keys(n);for(i=0;i<r.length;i++)t=r[i],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(i=0;i<r.length;i++)t=r[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var l=i.createContext({}),p=function(n){var e=i.useContext(l),t=e;return n&&(t="function"==typeof n?n(e):o(o({},e),n)),t},c=function(n){var e=p(n.components);return i.createElement(l.Provider,{value:e},n.children)},m={inlineCode:"code",wrapper:function(n){var e=n.children;return i.createElement(i.Fragment,{},e)}},d=i.forwardRef((function(n,e){var t=n.components,a=n.mdxType,r=n.originalType,l=n.parentName,c=s(n,["components","mdxType","originalType","parentName"]),d=p(t),f=a,u=d["".concat(l,".").concat(f)]||d[f]||m[f]||r;return t?i.createElement(u,o(o({ref:e},c),{},{components:t})):i.createElement(u,o({ref:e},c))}));function f(n,e){var t=arguments,a=e&&e.mdxType;if("string"==typeof n||a){var r=t.length,o=new Array(r);o[0]=d;var s={};for(var l in e)hasOwnProperty.call(e,l)&&(s[l]=e[l]);s.originalType=n,s.mdxType="string"==typeof n?n:a,o[1]=s;for(var p=2;p<r;p++)o[p]=t[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,t)}d.displayName="MDXCreateElement"},63498:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var i=t(87462),a=(t(67294),t(3905));const r={},o=void 0,s={unversionedId:"\u516c\u53f8/\u51e4\u51f0\u7f51/\u7ec4\u4ef6\u4f7f\u7528\u6587\u6863/\u7ec4\u4ef6\u6c47\u603b/\u65f6\u95f4\u7ebf/\u65f6\u95f4\u7ebf",id:"\u516c\u53f8/\u51e4\u51f0\u7f51/\u7ec4\u4ef6\u4f7f\u7528\u6587\u6863/\u7ec4\u4ef6\u6c47\u603b/\u65f6\u95f4\u7ebf/\u65f6\u95f4\u7ebf",title:"\u65f6\u95f4\u7ebf",description:"app.jsx",source:"@site/docs/\u516c\u53f8/\u51e4\u51f0\u7f51/\u7ec4\u4ef6\u4f7f\u7528\u6587\u6863/\u7ec4\u4ef6\u6c47\u603b/\u65f6\u95f4\u7ebf/\u65f6\u95f4\u7ebf.md",sourceDirName:"\u516c\u53f8/\u51e4\u51f0\u7f51/\u7ec4\u4ef6\u4f7f\u7528\u6587\u6863/\u7ec4\u4ef6\u6c47\u603b/\u65f6\u95f4\u7ebf",slug:"/\u516c\u53f8/\u51e4\u51f0\u7f51/\u7ec4\u4ef6\u4f7f\u7528\u6587\u6863/\u7ec4\u4ef6\u6c47\u603b/\u65f6\u95f4\u7ebf/",permalink:"/docs/\u516c\u53f8/\u51e4\u51f0\u7f51/\u7ec4\u4ef6\u4f7f\u7528\u6587\u6863/\u7ec4\u4ef6\u6c47\u603b/\u65f6\u95f4\u7ebf/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u516c\u53f8/\u51e4\u51f0\u7f51/\u7ec4\u4ef6\u4f7f\u7528\u6587\u6863/\u7ec4\u4ef6\u6c47\u603b/\u65f6\u95f4\u7ebf/\u65f6\u95f4\u7ebf.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"README",permalink:"/docs/\u516c\u53f8/\u51e4\u51f0\u7f51/\u7ec4\u4ef6\u4f7f\u7528\u6587\u6863/\u7ec4\u4ef6\u6c47\u603b/\u65f6\u95f4\u7ebf/"},next:{title:"\u65f6\u95f4\u7ebf\u7ec4\u4ef6",permalink:"/docs/\u516c\u53f8/\u51e4\u51f0\u7f51/\u7ec4\u4ef6\u4f7f\u7528\u6587\u6863/\u7ec4\u4ef6\u6c47\u603b/\u65f6\u95f4\u7ebf/\u65f6\u95f4\u7ebf\u7ec4\u4ef6"}},l={},p=[],c={toc:p};function m(n){let{components:e,...r}=n;return(0,a.kt)("wrapper",(0,i.Z)({},c,r,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(79797).Z,width:"370",height:"692"})),(0,a.kt)("p",null,"app.jsx"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import '@babel/polyfill';\nimport 'raf/polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './reset.css';\nimport Layout from './layout';\nimport testData from './layout/assets/testData.json'; //\u672c\u5730\u6570\u636e\n\nwindow.allData = window.allData && Object.keys(window.allData).length ? window.allData : testData;\n\n/* eslint-disable no-undef */\nReactDOM.render(<Layout content={allData} fontDiff={__fontDiff} />, document.getElementById('root'));\n/* eslint-enable no-undef */\n")),(0,a.kt)("p",null,"Layout/index.jsx"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"class Layout extends React.PureComponent {\n    static propTypes = {\n        content: PropTypes.object,\n    };\n    state = {\n        // data: {},\n        // markShow: false,\n        // introShow: false,\n        // current: null,\n        // isExtraAll: false,\n        timeLineIndex: 0,\n        isAll: false,\n        // shareNum: '',\n        // areaType: 'all',\n        // currentPath: 'maps',\n        // currentTab: '',\n        // areaCode: (cookie && cookie.get('prov').slice(2)) || '027',\n        // hbType: 'all',\n        // hbAreaName: '',\n    };\n\n    // \u83b7\u53d6\u5355\u4e2a\u4e8b\u4ef6\n    getEvent = (item, index) => (\n        <a\n            key={index}\n            href={item.link}\n            className={`${styles.timeline_evnets} ${this.state.isAll ? styles.timeline_more : ''}`}>\n            <span />\n            <div className={styles.timeline_date}>{item.moment}</div>\n            <div className={styles.tiemline_text}>\n                <span>{item.summary}</span>\n            </div>\n        </a>\n    );\n\n    // \u83b7\u53d6\u65f6\u95f4\u7ebf\u6570\u636e\n    getTimeLine = content => {\n        const { timeLineIndex, isAll } = this.state;\n   \n        const items = [];\n\n        // \u83b7\u53d6\u524d12\u4e2a\u65f6\u95f4\u7ebf\u6570\u636e\n        content.slice(0, 12 * (timeLineIndex + 1)).forEach((item, index) => {\n        \n            items.push(this.getEvent(item, index));\n        });\n        console.log(items);\n\n        return (\n            <Fragment>\n                <div className={styles.timeline}>\n                    <div className={styles.timeline_evnets_box}>{items}</div>\n                </div>\n                <div className={styles.more} onClick={this.handleTimeLineShow}>\n                    <span>{isAll ? '\u5df2\u663e\u793a\u5168\u90e8\u5185\u5bb9' : '\u67e5\u770b\u66f4\u591a'}</span>\n                    {!isAll && (\n                        <img\n                            className={isAll ? styles.all : styles.noAll}\n                            src=\"https://x0.ifengimg.com/ucms/2020_06/B47A435EB8F1B6223FEFFEBFFB85C53E9982C0C6_w24_h24.png\"\n                        />\n                    )}\n                </div>\n            </Fragment>\n         );\n    };\n\n    // \u83b7\u53d6\u66f4\u591a\u65f6\u95f4\u7ebf\u6570\u636e\n    handleTimeLineShow = () => {\n        const { isAll } = this.state;\n        let { timeLineIndex } = this.state;\n        const {\n            content: { modules },\n        } = this.props;\n        const reviewData = modules.filter(item => item.type === 'review')[0].data;\n\n        console.log(reviewData);\n        if (!isAll) timeLineIndex++;\n        \n        this.setState({\n            timeLineIndex,\n            isAll: reviewData.length < 12 * (timeLineIndex + 1),\n        });\n    };\n    render(){\n        const {content} = this.props;\n\n        const reviewData = content.modules.filter(item => item.type === 'review')[0].data;\n\n        return (\n            <>\n                <div className={styles.title_box1}>\n                    <span>\u5b9e\u65f6\u52a8\u6001</span>\n                 \n                    {isCallup && (\n                        <div className={styles.title_enter} onClick={this.handleClick}>\n                            <span>\u67e5\u770b\u66f4\u591a\u62a5\u9053</span>\n                        </div>\n                    )}\n                </div>\n\n                {this.getTimeLine(reviewData)}\n            </>\n        )\n    }\n}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-css"},".timeline {\n    background: #ffffff;\n    margin: 34px 0 0 0;\n    & .timeline_evnets_box {\n        margin: 0 30px;\n    }\n\n    & .timeline_evnets {\n        position: relative;\n    }\n\n    & .timeline_evnets:before {\n        position: absolute;\n        display: block;\n        content: '';\n        width: 2px;\n        left: -16.5px;\n        top: 15px;\n        bottom: -60px;\n        background: #ededed;\n    }\n\n    & .timeline_more:last-child:before {\n        display: none;\n    }\n\n    & a {\n        position: relative;\n        display: block;\n        margin-left: 36px;\n        margin-bottom: 40px;\n        margin-top: 4px;\n    }\n\n    & a > span {\n        display: block;\n        width: 22px;\n        height: 22px;\n        position: absolute;\n        top: 6px;\n        left: -26px;\n        background: url(https://x0.ifengimg.com/ucms/2020_06/1BF2B413AAFF386103DD5AA6D5ED5064FAE929B8_w22_h22.png)\n            no-repeat;\n        background-size: contain;\n    }\n\n    & .timeline_date {\n        margin-left: 26px;\n        height: 40px;\n        line-height: 40px;\n        font-size: 28px;\n        font-family: PingFangSC-Medium, PingFang SC !important;\n        font-weight: bold;\n        color: #a1a5ac;\n    }\n\n    & .tiemline_text {\n        font-size: 30px;\n        line-height: 42px;\n        background: #f7f8fb;\n        border-radius: 4px;\n        border-radius: 4px;\n        margin-top: 8px;\n        margin-left: 26px;\n        padding: 20px;\n        overflow: hidden;\n        & span {\n            font-family: PingFangSC-Regular, PingFang SC !important;\n            font-weight: 400;\n            color: #232323;\n        }\n    }\n}\n\n.more {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 0 0 26px 0;\n    width: 100%;\n    background: #ffffff;\n    & span {\n        margin-right: 10px;\n        height: 42px;\n        line-height: 42px;\n        font-size: 30px;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        color: rgba(33, 34, 35, 1);\n    }\n    & img {\n        width: 24px;\n        height: 24px;\n        transition: all 0.2s;\n    }\n}\n\n.all {\n    transform: rotate(180deg);\n}\n\n.noAll {\n    transform: rotate(0);\n}\n")))}m.isMDXComponent=!0},79797:(n,e,t)=>{t.d(e,{Z:()=>i});const i=t.p+"assets/images/timeline-36a9d334178b158e79c80227056bd15c.png"}}]);