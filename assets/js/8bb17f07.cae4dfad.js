"use strict";(self.webpackChunkwiki=self.webpackChunkwiki||[]).push([[95184],{3905:(e,n,r)=>{r.d(n,{Zo:()=>s,kt:()=>m});var a=r(67294);function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function c(e,n){if(null==e)return{};var r,a,t=function(e,n){if(null==e)return{};var r,a,t={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],n.indexOf(r)>=0||(t[r]=e[r]);return t}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var o=a.createContext({}),i=function(e){var n=a.useContext(o),r=n;return e&&(r="function"==typeof e?e(n):u(u({},n),e)),r},s=function(e){var n=i(e.components);return a.createElement(o.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var r=e.components,t=e.mdxType,l=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=i(r),m=t,f=d["".concat(o,".").concat(m)]||d[m]||p[m]||l;return r?a.createElement(f,u(u({ref:n},s),{},{components:r})):a.createElement(f,u({ref:n},s))}));function m(e,n){var r=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var l=r.length,u=new Array(l);u[0]=d;var c={};for(var o in n)hasOwnProperty.call(n,o)&&(c[o]=n[o]);c.originalType=e,c.mdxType="string"==typeof e?e:t,u[1]=c;for(var i=2;i<l;i++)u[i]=r[i];return a.createElement.apply(null,u)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},8792:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>u,default:()=>p,frontMatter:()=>l,metadata:()=>c,toc:()=>i});var a=r(87462),t=(r(67294),r(3905));const l={},u="[reduce()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)",c={unversionedId:"\u524d\u7aef\u57fa\u7840/Javascript/\u6570\u636e\u7c7b\u578b/\u57fa\u672c\u7c7b\u578b/Array/\u65b9\u6cd5/reduce",id:"\u524d\u7aef\u57fa\u7840/Javascript/\u6570\u636e\u7c7b\u578b/\u57fa\u672c\u7c7b\u578b/Array/\u65b9\u6cd5/reduce",title:"[reduce()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)",description:"reduce() \u65b9\u6cd5\u5bf9\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u6309\u5e8f\u6267\u884c\u4e00\u4e2a\u7531\u60a8\u63d0\u4f9b\u7684 reducer \u51fd\u6570\uff0c\u6bcf\u4e00\u6b21\u8fd0\u884c reducer \u4f1a\u5c06\u5148\u524d\u5143\u7d20\u7684\u8ba1\u7b97\u7ed3\u679c\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\uff0c\u6700\u540e\u5c06\u5176\u7ed3\u679c\u6c47\u603b\u4e3a\u5355\u4e2a\u8fd4\u56de\u503c\u3002",source:"@site/docs/\u524d\u7aef\u57fa\u7840/Javascript/\u6570\u636e\u7c7b\u578b/\u57fa\u672c\u7c7b\u578b/Array/\u65b9\u6cd5/reduce.md",sourceDirName:"\u524d\u7aef\u57fa\u7840/Javascript/\u6570\u636e\u7c7b\u578b/\u57fa\u672c\u7c7b\u578b/Array/\u65b9\u6cd5",slug:"/\u524d\u7aef\u57fa\u7840/Javascript/\u6570\u636e\u7c7b\u578b/\u57fa\u672c\u7c7b\u578b/Array/\u65b9\u6cd5/reduce",permalink:"/docs/\u524d\u7aef\u57fa\u7840/Javascript/\u6570\u636e\u7c7b\u578b/\u57fa\u672c\u7c7b\u578b/Array/\u65b9\u6cd5/reduce",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u524d\u7aef\u57fa\u7840/Javascript/\u6570\u636e\u7c7b\u578b/\u57fa\u672c\u7c7b\u578b/Array/\u65b9\u6cd5/reduce.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"[keys()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/keys)",permalink:"/docs/\u524d\u7aef\u57fa\u7840/Javascript/\u6570\u636e\u7c7b\u578b/\u57fa\u672c\u7c7b\u578b/Array/\u65b9\u6cd5/keys"},next:{title:"[reduceRight()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight#%E5%B1%95%E7%A4%BA_reduce_%E4%B8%8E_reduceright_%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB)",permalink:"/docs/\u524d\u7aef\u57fa\u7840/Javascript/\u6570\u636e\u7c7b\u578b/\u57fa\u672c\u7c7b\u578b/Array/\u65b9\u6cd5/reduceRight"}},o={},i=[{value:"Try it",id:"try-it",level:2},{value:"\u8ba1\u7b97\u6570\u7ec4\u6240\u6709\u5143\u7d20\u7684\u603b\u548c\uff1a",id:"\u8ba1\u7b97\u6570\u7ec4\u6240\u6709\u5143\u7d20\u7684\u603b\u548c",level:3},{value:"\u7d2f\u52a0\u5bf9\u8c61\u6570\u7ec4\u91cc\u7684\u503c",id:"\u7d2f\u52a0\u5bf9\u8c61\u6570\u7ec4\u91cc\u7684\u503c",level:3},{value:"\u5c06\u4e8c\u7ef4\u6570\u7ec4\u8f6c\u5316\u4e3a\u4e00\u7ef4",id:"\u5c06\u4e8c\u7ef4\u6570\u7ec4\u8f6c\u5316\u4e3a\u4e00\u7ef4",level:3},{value:"\u8ba1\u7b97\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u51fa\u73b0\u7684\u6b21\u6570",id:"\u8ba1\u7b97\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u51fa\u73b0\u7684\u6b21\u6570",level:3},{value:"\u6309\u5c5e\u6027\u5bf9 object \u5206\u7c7b",id:"\u6309\u5c5e\u6027\u5bf9-object-\u5206\u7c7b",level:3},{value:"\u63d0\u53d6\u5bf9\u8c61\u6570\u7ec4\u4e2d\u6570\u7ec4",id:"\u63d0\u53d6\u5bf9\u8c61\u6570\u7ec4\u4e2d\u6570\u7ec4",level:3},{value:"\u6570\u7ec4\u53bb\u91cd",id:"\u6570\u7ec4\u53bb\u91cd",level:3},{value:"\u4f7f\u7528 .reduce() \u66ff\u6362 .filter()/.map()",id:"\u4f7f\u7528-reduce-\u66ff\u6362-filtermap",level:3},{value:"\u6309\u987a\u5e8f\u8fd0\u884c Promise",id:"\u6309\u987a\u5e8f\u8fd0\u884c-promise",level:3}],s={toc:i};function p(e){let{components:n,...r}=e;return(0,t.kt)("wrapper",(0,a.Z)({},s,r,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"reduce"},(0,t.kt)("a",{parentName:"h1",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce"},"reduce()")),(0,t.kt)("p",null,"reduce() \u65b9\u6cd5\u5bf9\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u6309\u5e8f\u6267\u884c\u4e00\u4e2a\u7531\u60a8\u63d0\u4f9b\u7684 reducer \u51fd\u6570\uff0c\u6bcf\u4e00\u6b21\u8fd0\u884c reducer \u4f1a\u5c06\u5148\u524d\u5143\u7d20\u7684\u8ba1\u7b97\u7ed3\u679c\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\uff0c\u6700\u540e\u5c06\u5176\u7ed3\u679c\u6c47\u603b\u4e3a\u5355\u4e2a\u8fd4\u56de\u503c\u3002"),(0,t.kt)("h2",{id:"try-it"},"Try it"),(0,t.kt)("h3",{id:"\u8ba1\u7b97\u6570\u7ec4\u6240\u6709\u5143\u7d20\u7684\u603b\u548c"},"\u8ba1\u7b97\u6570\u7ec4\u6240\u6709\u5143\u7d20\u7684\u603b\u548c\uff1a"),(0,t.kt)("p",null,"reducer \u9010\u4e2a\u904d\u5386\u6570\u7ec4\u5143\u7d20\uff0c\u6bcf\u4e00\u6b65\u90fd\u5c06\u5f53\u524d\u5143\u7d20\u7684\u503c\u4e0e\u4e0a\u4e00\u6b65\u7684\u8ba1\u7b97\u7ed3\u679c\u76f8\u52a0\uff08\u4e0a\u4e00\u6b65\u7684\u8ba1\u7b97\u7ed3\u679c\u662f\u5f53\u524d\u5143\u7d20\u4e4b\u524d\u6240\u6709\u5143\u7d20\u7684\u603b\u548c\uff09\u2014\u2014\u76f4\u5230\u6ca1\u6709\u66f4\u591a\u7684\u5143\u7d20\u88ab\u76f8\u52a0\u3002"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},"const array1 = [1, 2, 3, 4];\n\n// 0 + 1 + 2 + 3 + 4\nconst initialValue = 0;\n\nconst sumWithInitial = array1.reduce(\n  (previousValue, currentValue) => previousValue + currentValue,\n  initialValue\n);\n\nconsole.log(sumWithInitial);\n// expected output: 10\n")),(0,t.kt)("p",null,"\u4f60\u4e5f\u53ef\u4ee5\u5199\u6210\u7bad\u5934\u51fd\u6570\u7684\u5f62\u5f0f\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},"let total = [0, 1, 2, 3].reduce(\n  (previousValue, currentValue) => previousValue + currentValue,\n  0\n);\n")),(0,t.kt)("h3",{id:"\u7d2f\u52a0\u5bf9\u8c61\u6570\u7ec4\u91cc\u7684\u503c"},"\u7d2f\u52a0\u5bf9\u8c61\u6570\u7ec4\u91cc\u7684\u503c"),(0,t.kt)("p",null,"\u8981\u7d2f\u52a0\u5bf9\u8c61\u6570\u7ec4\u4e2d\u5305\u542b\u7684\u503c\uff0c\u5fc5\u987b\u63d0\u4f9b initialValue\uff0c\u4ee5\u4fbf\u5404\u4e2a item \u6b63\u786e\u901a\u8fc7\u4f60\u7684\u51fd\u6570\u3002"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},"let initialValue = 0;\nlet sum = [{ x: 1 }, { x: 2 }, { x: 3 }].reduce(function (\n  previousValue,\n  currentValue\n) {\n  return previousValue + currentValue.x;\n},\ninitialValue);\n\nconsole.log(sum); // logs 6\n")),(0,t.kt)("p",null,"\u4f60\u4e5f\u53ef\u4ee5\u5199\u6210\u7bad\u5934\u51fd\u6570\u7684\u5f62\u5f0f\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},"let initialValue = 0;\nlet sum = [{ x: 1 }, { x: 2 }, { x: 3 }].reduce(\n  (previousValue, currentValue) => previousValue + currentValue.x,\n  initialValue\n);\n\nconsole.log(sum); // logs 6\n")),(0,t.kt)("h3",{id:"\u5c06\u4e8c\u7ef4\u6570\u7ec4\u8f6c\u5316\u4e3a\u4e00\u7ef4"},"\u5c06\u4e8c\u7ef4\u6570\u7ec4\u8f6c\u5316\u4e3a\u4e00\u7ef4"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},"let flattened = [\n  [0, 1],\n  [2, 3],\n  [4, 5],\n].reduce(function (previousValue, currentValue) {\n  return previousValue.concat(currentValue);\n}, []);\n// flattened is [0, 1, 2, 3, 4, 5]\n")),(0,t.kt)("p",null,"\u4f60\u4e5f\u53ef\u4ee5\u5199\u6210\u7bad\u5934\u51fd\u6570\u7684\u5f62\u5f0f\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},"let flattened = [\n  [0, 1],\n  [2, 3],\n  [4, 5],\n].reduce(\n  (previousValue, currentValue) => previousValue.concat(currentValue),\n  []\n);\n")),(0,t.kt)("h3",{id:"\u8ba1\u7b97\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u51fa\u73b0\u7684\u6b21\u6570"},"\u8ba1\u7b97\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u51fa\u73b0\u7684\u6b21\u6570"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},'let names = ["Alice", "Bob", "Tiff", "Bruce", "Alice"];\n\nlet countedNames = names.reduce(function (allNames, name) {\n  if (name in allNames) {\n    allNames[name]++;\n  } else {\n    allNames[name] = 1;\n  }\n  return allNames;\n}, {});\n// countedNames is:\n// { \'Alice\': 2, \'Bob\': 1, \'Tiff\': 1, \'Bruce\': 1 }\n')),(0,t.kt)("h3",{id:"\u6309\u5c5e\u6027\u5bf9-object-\u5206\u7c7b"},"\u6309\u5c5e\u6027\u5bf9 object \u5206\u7c7b"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},'let people = [\n  { name: "Alice", age: 21 },\n  { name: "Max", age: 20 },\n  { name: "Jane", age: 20 },\n];\n\nfunction groupBy(objectArray, property) {\n  return objectArray.reduce(function (acc, obj) {\n    let key = obj[property];\n    if (!acc[key]) {\n      acc[key] = [];\n    }\n    acc[key].push(obj);\n    return acc;\n  }, {});\n}\n\nlet groupedPeople = groupBy(people, "age");\n// groupedPeople is:\n// {\n//   20: [\n//     { name: \'Max\', age: 20 },\n//     { name: \'Jane\', age: 20 }\n//   ],\n//   21: [{ name: \'Alice\', age: 21 }]\n// }\n')),(0,t.kt)("h3",{id:"\u63d0\u53d6\u5bf9\u8c61\u6570\u7ec4\u4e2d\u6570\u7ec4"},"\u63d0\u53d6\u5bf9\u8c61\u6570\u7ec4\u4e2d\u6570\u7ec4"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},'let people = [\n  { name: "Alice", age: 21 },\n  { name: "Max", age: 20 },\n  { name: "Jane", age: 20 },\n];\n\nfunction groupBy(objectArray, property) {\n  return objectArray.reduce(function (acc, obj) {\n    let key = obj[property];\n    if (!acc[key]) {\n      acc[key] = [];\n    }\n    acc[key].push(obj);\n    return acc;\n  }, {});\n}\n\nlet groupedPeople = groupBy(people, "age");\n// groupedPeople is:\n// {\n//   20: [\n//     { name: \'Max\', age: 20 },\n//     { name: \'Jane\', age: 20 }\n//   ],\n//   21: [{ name: \'Alice\', age: 21 }]\n// }\n')),(0,t.kt)("h3",{id:"\u6570\u7ec4\u53bb\u91cd"},"\u6570\u7ec4\u53bb\u91cd"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},'let myArray = ["a", "b", "a", "b", "c", "e", "e", "c", "d", "d", "d", "d"];\nlet myArrayWithNoDuplicates = myArray.reduce(function (\n  previousValue,\n  currentValue\n) {\n  if (previousValue.indexOf(currentValue) === -1) {\n    previousValue.push(currentValue);\n  }\n  return previousValue;\n},\n[]);\n\nconsole.log(myArrayWithNoDuplicates);\n')),(0,t.kt)("h3",{id:"\u4f7f\u7528-reduce-\u66ff\u6362-filtermap"},"\u4f7f\u7528 .reduce() \u66ff\u6362 .filter()/.map()"),(0,t.kt)("p",null,"\u4f7f\u7528 Array.filter() \u548c Array.map() \u4f1a\u904d\u5386\u6570\u7ec4\u4e24\u6b21\uff0c\u800c\u4f7f\u7528\u5177\u6709\u76f8\u540c\u6548\u679c\u7684 Array.reduce() \u53ea\u9700\u8981\u904d\u5386\u4e00\u6b21\uff0c\u8fd9\u6837\u505a\u66f4\u52a0\u9ad8\u6548\u3002\uff08\u5982\u679c\u4f60\u559c\u6b22 for \u5faa\u73af\uff0c\u4f60\u53ef\u7528\u4f7f\u7528 Array.forEach() \u4ee5\u5728\u4e00\u6b21\u904d\u5386\u4e2d\u5b9e\u73b0\u8fc7\u6ee4\u548c\u6620\u5c04\u6570\u7ec4\uff09"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},"const numbers = [-5, 6, 2, 0];\n\nconst doubledPositiveNumbers = numbers.reduce((previousValue, currentValue) => {\n  if (currentValue > 0) {\n    const doubled = currentValue * 2;\n    previousValue.push(doubled);\n  }\n  return previousValue;\n}, []);\n\nconsole.log(doubledPositiveNumbers); // [12, 4]\n")),(0,t.kt)("h3",{id:"\u6309\u987a\u5e8f\u8fd0\u884c-promise"},"\u6309\u987a\u5e8f\u8fd0\u884c Promise"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-js"},"/**\n * Runs promises from array of functions that can return promises\n * in chained manner\n *\n * @param {array} arr - promise arr\n * @return {Object} promise object\n */\nfunction runPromiseInSequence(arr, input) {\n  return arr.reduce(\n    (promiseChain, currentFunction) => promiseChain.then(currentFunction),\n    Promise.resolve(input)\n  );\n}\n\n// promise function 1\nfunction p1(a) {\n  return new Promise((resolve, reject) => {\n    resolve(a * 5);\n  });\n}\n\n// promise function 2\nfunction p2(a) {\n  return new Promise((resolve, reject) => {\n    resolve(a * 2);\n  });\n}\n\n// function 3  - will be wrapped in a resolved promise by .then()\nfunction f3(a) {\n  return a * 3;\n}\n\n// promise function 4\nfunction p4(a) {\n  return new Promise((resolve, reject) => {\n    resolve(a * 4);\n  });\n}\n\nconst promiseArr = [p1, p2, f3, p4];\nrunPromiseInSequence(promiseArr, 10).then(console.log); // 1200\n")))}p.isMDXComponent=!0}}]);